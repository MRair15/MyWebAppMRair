<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>–ú–æ–π Mini App</title>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <link rel="stylesheet" href="style.css" />
</head>
<body>
    <div class="container">
        <h1 id="greeting">–ó–∞–≥—Ä—É–∑–∫–∞...</h1>
        <p id="status">–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ Mini App!</p>
        <button id="sendBtn">–û—Ç–ø—Ä–∞–≤–∏—Ç—å –≤ –±–æ—Ç–∞</button>
        <p><small>Mini App —Ä–∞–±–æ—Ç–∞–µ—Ç –≤–Ω—É—Ç—Ä–∏ Telegram</small></p>
    </div>

    <script>
        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è Telegram WebApp
        const tg = window.Telegram?.WebApp;

        if (tg) {
            tg.ready(); // –ì–æ–≤–æ—Ä–∏–º, —á—Ç–æ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –≥–æ—Ç–æ–≤

            // –ü–æ–ª—É—á–∞–µ–º –¥–∞–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
            const user = tg.initDataUnsafe.user;
            const name = user?.first_name || "–¥—Ä—É–≥";

            document.getElementById("greeting").textContent = `–ü—Ä–∏–≤–µ—Ç, ${name}! üëã`;
            document.getElementById("status").textContent = `–¢—ã –æ—Ç–∫—Ä—ã–ª Mini App ‚Äî –∫—Ä—É—Ç–æ!`;

            // –ö–Ω–æ–ø–∫–∞: –æ—Ç–ø—Ä–∞–≤–∏—Ç—å –¥–∞–Ω–Ω—ã–µ –≤ –±–æ—Ç–∞
            document.getElementById("sendBtn").onclick = () => {
                tg.sendData("–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–∞–∂–∞–ª –∫–Ω–æ–ø–∫—É!");
                tg.showAlert("–°–ø–∞—Å–∏–±–æ! –Ø –æ—Ç–ø—Ä–∞–≤–∏–ª —Å–æ–æ–±—â–µ–Ω–∏–µ –±–æ—Ç—É.");
            };
        } else {
            document.getElementById("greeting").textContent = "–û—à–∏–±–∫–∞: Mini App —Ä–∞–±–æ—Ç–∞–µ—Ç —Ç–æ–ª—å–∫–æ –≤ Telegram";
        }
    </script>
</body>
</html>